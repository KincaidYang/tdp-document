# 安装服务端
## 手动安装

请仔细阅读[免责声明](/wrest/免责声明.md)和[常见问题](/wrest/常见问题.md)后再开始使用，首次使用可参照下面的步骤开始：

- 下载并安装 [WeChatSetup-3.9.2.23.exe](https://github.com/opentdp/wrest-chat/releases/download/v0.0.1/WeChatSetup-3.9.2.23.exe) 和 [wrest-chat.zip](https://github.com/opentdp/wrest-chat/releases)

  - 非开发者请直接下载编译好的二进制文件，不要下载源码

- 双击 `wrest.exe` 将自动启动微信和接口服务，扫码登录微信

  - 启动成功后，浏览器访问 `http://localhost:7600` 配置机器人

- 若无人值守，可选择使用 `starter.bat` 启动服务，实现如下能力：
  
  - 写入禁止微信自动更新的注册表配置
  - 在 `wrest.exe` 崩溃后自动重启

## 容器部署

> 此镜像仅用于部署 wrest 主体程序，不包含 wcf.exe 和 wechat，请配置 WCF_ADDRESS 连接外部 wcf 服务使用。

### docker cli

```shell
docker run -d -p 7600:7600 \
    -e WCF_ADDRESS="192.168.1.2:7601" \
    -v ./storage:/srv/storage \
    rehiy/wrest-chat
```

### 参数说明

- `-e WCF_ADDRESS="192.168.1.2:7601"` 指定 wcf 地址
- `-v ./storage:/srv/storage` 指定数据存储路径
- `-v ./plugin:/srv/plugin` 指定插件存储路径
- `-v ./log:/srv/log` 指定日志存储路径
- `rehiy/wrest-chat /srv/storage/config.yml` 自定义配置文件路径